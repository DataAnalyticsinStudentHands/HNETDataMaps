<template name="compositeCampus">
  <div class="container-fluid">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Composite Plots for Sites at the UH Main Campus</h3>
      </div>
      <div class="panel-body">
        <div class="row">
          <div class="col-xs-2">
            <label for="datetimepicker1">Select Date:</label>
            <div class="form-group">
              <div class='input-group date' id='datetimepicker1'>
                  <input type='text' class="form-control" id='selectedDate'/>
                  <span class="input-group-addon">
                      <span class="glyphicon glyphicon-calendar"></span>
                  </span>
              </div>
          </div>
        </div>
      </div>
      </div>
    </div>

    {{> loader}}

    {{#if Template.subscriptionsReady}}
      <div class="loading-wrapper">
          <!-- container for charts   -->
          {{#with charts}}
              {{#if this.count}}
                {{#each this}}
                <form class="adjust" id="{{_id}}">
                <div id="container-chart-{{_id}}" style="height: 500px; margin: 0">{{createChart _id}}</div>
                <div class="input-group pull-right" style="margin-top:-450px;">
                  <input type="text" name="min" placeholder="min" value={{min}} style="margin-right: 5px;" />

                  <input type="text" name="max" placeholder="max" value={{max}} style="margin-right: 5px;" />

                  <input class="btn btn-default btn-xs" type="submit" value="Adjust min/max y-Axis" />
                </div>
                </form>
                {{/each}}
              {{else}}
                 <h4><span class="label label-default">No data found</span></h4>
              {{/if}}
            {{/with}}
      </div>

  {{/if}}
  </div>
</template>

<template name="loader">
  <svg class="loader" version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
     width="40px" height="40px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">
  <path fill="#000" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z">
    <animateTransform attributeType="xml"
      attributeName="transform"
      type="rotate"
      from="0 25 25"
      to="360 25 25"
      dur="0.6s"
      repeatCount="indefinite"/>
    </path>
  </svg>
</template>
